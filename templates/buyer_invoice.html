<!DOCTYPE html>
<html>
<head>
    <title>Invoice - {{ buyer }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-6">
    <div class="max-w-4xl mx-auto bg-white p-6 shadow-lg rounded-lg">
        <!-- Header -->
        <div class="mb-6 border-b pb-4">
            <h1 class="text-3xl font-bold text-pink-600">Invoice for {{ buyer }}</h1>
            <p class="text-gray-500 mt-1">Seller: <span class="font-semibold">{{ seller }}</span></p>
        </div>

        <!-- Table Card -->
        <div class="overflow-x-auto rounded-lg border border-gray-200 shadow-sm">
            <table class="min-w-full text-sm text-gray-700">
                <thead class="bg-pink-100 text-pink-800 uppercase text-xs">
                    <tr>
                        <th class="px-4 py-2 text-left">Order Key</th>
                        <th class="px-4 py-2 text-left">Product</th>
                        <th class="px-4 py-2 text-center">Qty</th>
                        <th class="px-4 py-2 text-right">Unit Price</th>
                        <th class="px-4 py-2 text-right">Total</th>
                        <th class="px-4 py-2 text-left">Payment</th>
                        <th class="px-4 py-2 text-left">Date</th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-100">
                {% set ns = namespace(total=0) %}
                    {% for order in orders %}
                    {% set ns.total = ns.total + order[4] %}
                    <tr class="hover:bg-pink-50">
                        <td class="px-4 py-2 font-mono text-pink-600">{{ order[0] }}</td>
                        <td class="px-4 py-2">{{ order[1] }}</td>
                        <td class="px-4 py-2 text-center">{{ order[2] }}</td>
                        <td class="px-4 py-2 text-right">â‚±{{ '%.2f'|format(order[3]|float) }}</td>
                        <td class="px-4 py-2 text-right font-semibold">â‚±{{ '%.2f'|format(order[4]|float) }}</td>
                        <td class="px-4 py-2">{{ order[5] }}</td>
                        <td class="px-4 py-2">{{ order[6].strftime('%B %d, %Y %H:%M') }}</td>
                    </tr>
                {% endfor %}
            </tbody>
            <tfoot class="bg-pink-50 font-bold text-gray-700">
                <tr>
                    <td colspan="4" class="px-4 py-2 text-right">Grand Total:</td>
                    <td class="px-4 py-2 text-right text-pink-600">
                        â‚±{{ '%.2f'|format(ns.total|float) }}
                    </td>
                    <td colspan="2"></td>
                </tr>
            </tfoot>

            </table>
        </div>

        <!-- Actions -->
        <div class="mt-6 flex justify-end gap-3">
            <a href="/dashboard" 
               class="bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300">
                â¬… Back to Dashboard
            </a>
            <button onclick="window.print()" 
                    class="bg-pink-500 text-white px-4 py-2 rounded hover:bg-pink-600 shadow">
                ðŸ–¨ Print / Save as PDF
            </button>
        </div>
    </div>
</body>
</html>
